(()=>{"use strict";var __webpack_modules__={585:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppController=void 0;const tslib_1=__webpack_require__(752),openapi=__webpack_require__(519),common_1=__webpack_require__(481),swagger_1=__webpack_require__(519),app_service_1=__webpack_require__(162);let AppController=class AppController{constructor(appService){this.appService=appService}getData(){return this.appService.getData()}};(0,tslib_1.__decorate)([(0,common_1.Get)(),(0,swagger_1.ApiResponse)({schema:{type:"object",properties:{message:{type:"string"}}}}),openapi.ApiResponse({status:200}),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",Object)],AppController.prototype,"getData",null),AppController=(0,tslib_1.__decorate)([(0,common_1.Controller)(),(0,tslib_1.__metadata)("design:paramtypes",[app_service_1.AppService])],AppController),exports.AppController=AppController},343:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppModule=void 0;const tslib_1=__webpack_require__(752),zod_nestjs_1=__webpack_require__(825),common_1=__webpack_require__(481),core_1=__webpack_require__(143),nestjs_pino_1=__webpack_require__(581),card_module_1=__webpack_require__(296),database_module_1=__webpack_require__(191),health_module_1=__webpack_require__(837),user_module_1=__webpack_require__(486),app_controller_1=__webpack_require__(585),app_service_1=__webpack_require__(162);let AppModule=class AppModule{};AppModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[database_module_1.DatabaseModule,health_module_1.HealthModule,nestjs_pino_1.LoggerModule.forRoot(),user_module_1.UserModule,card_module_1.CardModule],controllers:[app_controller_1.AppController],providers:[app_service_1.AppService,{provide:core_1.APP_PIPE,useClass:zod_nestjs_1.ZodValidationPipe}]})],AppModule),exports.AppModule=AppModule},162:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481);let AppService=class AppService{getData(){return{message:"Welcome to flashcards-server!"}}};AppService=(0,tslib_1.__decorate)([(0,common_1.Injectable)()],AppService),exports.AppService=AppService},25:(__unused_webpack_module,exports,__webpack_require__)=>{exports.f=void 0;const zod_nestjs_1=__webpack_require__(825),zod_openapi_1=__webpack_require__(672),shared_1=__webpack_require__(761);class CardApiDto extends((0,zod_nestjs_1.createZodDto)((0,zod_openapi_1.extendApi)(shared_1.cardSchema))){}exports.f=CardApiDto},700:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CardController=void 0;const tslib_1=__webpack_require__(752),openapi=__webpack_require__(519),common_1=__webpack_require__(481),swagger_1=__webpack_require__(519),card_service_1=__webpack_require__(710);let CardController=class CardController{constructor(cardService){this.cardService=cardService}findMany(){return this.cardService.findMany()}findOne(id){return this.cardService.findOne(id)}};(0,tslib_1.__decorate)([(0,common_1.Get)(),openapi.ApiResponse({status:200,type:[__webpack_require__(25).f]}),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",Promise)],CardController.prototype,"findMany",null),(0,tslib_1.__decorate)([(0,common_1.Get)(":id"),openapi.ApiResponse({status:200,type:__webpack_require__(25).f}),(0,tslib_1.__param)(0,(0,common_1.Param)("id",common_1.ParseIntPipe)),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[Number]),(0,tslib_1.__metadata)("design:returntype",Promise)],CardController.prototype,"findOne",null),CardController=(0,tslib_1.__decorate)([(0,swagger_1.ApiTags)("cards"),(0,common_1.Controller)("cards"),(0,tslib_1.__metadata)("design:paramtypes",[card_service_1.CardService])],CardController),exports.CardController=CardController},296:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CardModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481),database_module_1=__webpack_require__(191),card_controller_1=__webpack_require__(700),card_service_1=__webpack_require__(710);let CardModule=class CardModule{};CardModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[database_module_1.DatabaseModule],controllers:[card_controller_1.CardController],providers:[card_service_1.CardService]})],CardModule),exports.CardModule=CardModule},710:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CardService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481),prisma_service_1=__webpack_require__(508);let CardService=class CardService{constructor(prisma){this.prisma=prisma}findMany(){return this.prisma.card.findMany()}findOne(id){return this.prisma.card.findUnique({where:{id},rejectOnNotFound:()=>new common_1.NotFoundException})}};CardService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__metadata)("design:paramtypes",[prisma_service_1.PrismaService])],CardService),exports.CardService=CardService},191:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatabaseModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481),prisma_service_1=__webpack_require__(508);let DatabaseModule=class DatabaseModule{};DatabaseModule=(0,tslib_1.__decorate)([(0,common_1.Module)({providers:[prisma_service_1.PrismaService],exports:[prisma_service_1.PrismaService]})],DatabaseModule),exports.DatabaseModule=DatabaseModule},508:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.PrismaService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481),client_1=__webpack_require__(524);let PrismaService=class PrismaService extends client_1.PrismaClient{onModuleInit(){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){yield this.$connect()}))}enableShutdownHooks(app){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){this.$on("beforeExit",(()=>(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){yield app.close()}))))}))}};PrismaService=(0,tslib_1.__decorate)([(0,common_1.Injectable)()],PrismaService),exports.PrismaService=PrismaService},658:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.environment=void 0,exports.environment={production:!0,corsOrigin:"https://flashcards-7vuj.onrender.com"}},127:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.HealthController=void 0;const tslib_1=__webpack_require__(752),openapi=__webpack_require__(519),common_1=__webpack_require__(481),terminus_1=__webpack_require__(663),prisma_health_indicator_1=__webpack_require__(192);let HealthController=class HealthController{constructor(health,prismaHealthIndicator){this.health=health,this.prismaHealthIndicator=prismaHealthIndicator}check(){return this.health.check([()=>this.prismaHealthIndicator.isHealthy("database")])}};(0,tslib_1.__decorate)([(0,common_1.Get)(),(0,terminus_1.HealthCheck)(),openapi.ApiResponse({status:200,type:Object}),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],HealthController.prototype,"check",null),HealthController=(0,tslib_1.__decorate)([(0,common_1.Controller)("health"),(0,tslib_1.__metadata)("design:paramtypes",[terminus_1.HealthCheckService,prisma_health_indicator_1.PrismaHealthIndicator])],HealthController),exports.HealthController=HealthController},837:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.HealthModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481),terminus_1=__webpack_require__(663),database_module_1=__webpack_require__(191),health_controller_1=__webpack_require__(127),prisma_health_indicator_1=__webpack_require__(192);let HealthModule=class HealthModule{};HealthModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[database_module_1.DatabaseModule,terminus_1.TerminusModule],providers:[prisma_health_indicator_1.PrismaHealthIndicator],controllers:[health_controller_1.HealthController]})],HealthModule),exports.HealthModule=HealthModule},192:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.PrismaHealthIndicator=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481),terminus_1=__webpack_require__(663),prisma_service_1=__webpack_require__(508);let PrismaHealthIndicator=class PrismaHealthIndicator extends terminus_1.HealthIndicator{constructor(prismaService){super(),this.prismaService=prismaService}isHealthy(key){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){try{return yield this.prismaService.$queryRaw`SELECT 1`,this.getStatus(key,!0)}catch(e){throw new terminus_1.HealthCheckError("Prisma check failed",e)}}))}};PrismaHealthIndicator=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__metadata)("design:paramtypes",[prisma_service_1.PrismaService])],PrismaHealthIndicator),exports.PrismaHealthIndicator=PrismaHealthIndicator},895:(__unused_webpack_module,exports,__webpack_require__)=>{exports.s=void 0;const zod_nestjs_1=__webpack_require__(825),zod_openapi_1=__webpack_require__(672),shared_1=__webpack_require__(761);class UserApiDto extends((0,zod_nestjs_1.createZodDto)((0,zod_openapi_1.extendApi)(shared_1.userSchema))){}exports.s=UserApiDto},656:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserController=void 0;const tslib_1=__webpack_require__(752),openapi=__webpack_require__(519),common_1=__webpack_require__(481),swagger_1=__webpack_require__(519),user_service_1=__webpack_require__(906);let UserController=class UserController{constructor(userService){this.userService=userService}findMany(){return this.userService.findMany()}findOne(id){return this.userService.findOne(id)}};(0,tslib_1.__decorate)([(0,common_1.Get)(),openapi.ApiResponse({status:200,type:[__webpack_require__(895).s]}),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",Promise)],UserController.prototype,"findMany",null),(0,tslib_1.__decorate)([(0,common_1.Get)(":id"),openapi.ApiResponse({status:200,type:__webpack_require__(895).s}),(0,tslib_1.__param)(0,(0,common_1.Param)("id",common_1.ParseIntPipe)),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[Number]),(0,tslib_1.__metadata)("design:returntype",Promise)],UserController.prototype,"findOne",null),UserController=(0,tslib_1.__decorate)([(0,swagger_1.ApiTags)("users"),(0,common_1.Controller)("users"),(0,tslib_1.__metadata)("design:paramtypes",[user_service_1.UserService])],UserController),exports.UserController=UserController},486:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481),database_module_1=__webpack_require__(191),user_controller_1=__webpack_require__(656),user_service_1=__webpack_require__(906);let UserModule=class UserModule{};UserModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[database_module_1.DatabaseModule],controllers:[user_controller_1.UserController],providers:[user_service_1.UserService]})],UserModule),exports.UserModule=UserModule},906:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(481),prisma_service_1=__webpack_require__(508);let UserService=class UserService{constructor(prisma){this.prisma=prisma}findMany(){return this.prisma.user.findMany()}findOne(id){return this.prisma.user.findUnique({where:{id},rejectOnNotFound:()=>new common_1.NotFoundException})}};UserService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__metadata)("design:paramtypes",[prisma_service_1.PrismaService])],UserService),exports.UserService=UserService},761:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});(0,__webpack_require__(752).__exportStar)(__webpack_require__(840),exports)},81:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.cardSchema=void 0;__webpack_require__(519);const zod_1=__webpack_require__(316);exports.cardSchema=zod_1.z.object({id:zod_1.z.number().int(),front:zod_1.z.string(),back:zod_1.z.string()})},840:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(752);(0,tslib_1.__exportStar)(__webpack_require__(81),exports),(0,tslib_1.__exportStar)(__webpack_require__(173),exports)},173:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.userSchema=void 0;__webpack_require__(519);const zod_1=__webpack_require__(316);exports.userSchema=zod_1.z.object({id:zod_1.z.number().int(),name:zod_1.z.string(),avatar:zod_1.z.string().url(),eMail:zod_1.z.string().email()})},825:module=>{module.exports=require("@anatine/zod-nestjs")},672:module=>{module.exports=require("@anatine/zod-openapi")},481:module=>{module.exports=require("@nestjs/common")},143:module=>{module.exports=require("@nestjs/core")},519:module=>{module.exports=require("@nestjs/swagger")},663:module=>{module.exports=require("@nestjs/terminus")},524:module=>{module.exports=require("@prisma/client")},581:module=>{module.exports=require("nestjs-pino")},752:module=>{module.exports=require("tslib")},316:module=>{module.exports=require("zod")}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}var __webpack_exports__={};(()=>{var exports=__webpack_exports__;Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(752),zod_nestjs_1=__webpack_require__(825),common_1=__webpack_require__(481),core_1=__webpack_require__(143),swagger_1=__webpack_require__(519),app_module_1=__webpack_require__(343),environment_1=__webpack_require__(658);(function(){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const app=yield core_1.NestFactory.create(app_module_1.AppModule),port=process.env.PORT||3333;app.enableCors({origin:environment_1.environment.corsOrigin});const config=(new swagger_1.DocumentBuilder).setTitle("Flashcard API").setDescription("REST Api to manage flashcard decks").setVersion("1.0").build();(0,zod_nestjs_1.patchNestjsSwagger)();const document=swagger_1.SwaggerModule.createDocument(app,config);swagger_1.SwaggerModule.setup("api",app,document),yield app.listen(port),common_1.Logger.log(`🚀 Application is running on: http://localhost:${port}`)}))})().catch(common_1.Logger.error)})();var __webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();
//# sourceMappingURL=main.js.map